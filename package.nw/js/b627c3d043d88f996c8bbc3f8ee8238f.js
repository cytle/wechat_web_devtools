;!function(require, directRequire){;"use strict";const React=require("react"),AppearanceSetting=require('./ac2a5b064e43ff70c2d1b21748f1afb8.js'),EditSetting=require('./8823c33ce234f01f7f2f64fd8a669234.js'),ProxySetting=require('./2c82a10b1970531f9b69fa5c0b2b2479.js'),NotificationSetting=require('./57bc9c8450bc91d36fc9ceae64300d98.js'),defaults=require('./5498e660c05c574f739a28bd5d202cfa.js'),ShortcutSetting=require('./d4d6423058ecc0ac306c590e2b042510.js'),PopupWindow=require('./6620a0cf7dad1b400d60f0fdae40f524.js'),C=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),locales=require('./common/locales/index.js'),categories=["appearance","edit","proxy","notification","shortcut"];module.exports=class extends React.Component{constructor(a){super(a),this.changeCurrentCategory=(a)=>{this.onTabClicked(),this.setState({currentCategory:a.currentTarget.dataset.category})},this.settingsComponent=new Map;const b=JSON.parse(JSON.stringify(this.props.settings))||{},c=function(){const a=b.notification||{};return a.alarm&&a.bbs&&a.sys}();this.state={currentCategory:this.props.currentCategory||"appearance",enabled:this.props.enabled,settings:b,notificationInitiallyAllEnabled:c,showHiddenSettings:!1}}onTabClicked(){this._timer&&clearTimeout(this._timer),this._tabClickedCount=(this._tabClickedCount||0)+1,6<=this._tabClickedCount?(this._tabClickedCount=0,this.setState({showHiddenSettings:!this.state.showHiddenSettings})):this._timer=setTimeout(()=>{this._timer=0,this._tabClickedCount=0},400)}save(){const a={};for(const[b,c]of this.settingsComponent)a[b]=c.getSetting();this.props.save(a)}cancel(){this.props.cancel()}restoreDefault(){const a={};for(const b of categories)a[b]=defaults.settings[b];this.setState({settings:a})}render(){const a={display:"none"},b=this.state.showHiddenSettings,c=b||this.props.enabled.appearance?{}:a,d=b||this.props.enabled.edit?{}:a,e=b||this.props.enabled.proxy?{}:a,f=b||this.props.enabled.notification&&!this.state.notificationInitiallyAllEnabled?{}:a,g=b||this.props.enabled.shortcut?{}:a;return React.createElement("div",{className:"container",ref:(a)=>this.container=a},React.createElement("div",null,React.createElement("div",null,React.createElement("div",{className:"setting-hd ui-flex"},React.createElement("div",{style:c,className:"appearance"===this.state.currentCategory?"setting-item setting-item-active":"setting-item",onClick:this.changeCurrentCategory,"data-category":"appearance"},React.createElement("div",{className:"setting-icon"},React.createElement("i",{className:"ui-icon-theme"})),React.createElement("p",{className:"setting-label"},locales.config.APPEARANCE)),React.createElement("div",{style:g,className:"shortcut"===this.state.currentCategory?"setting-item setting-item-active":"setting-item",onClick:this.changeCurrentCategory,"data-category":"shortcut"},React.createElement("div",{className:"setting-icon"},React.createElement("i",{className:"ui-icon-hot-key"})),React.createElement("p",{className:"setting-label"},locales.config.HOT_KEY)),React.createElement("div",{style:d,className:"edit"===this.state.currentCategory?"setting-item setting-item-active":"setting-item",onClick:this.changeCurrentCategory,"data-category":"edit"},React.createElement("div",{className:"setting-icon"},React.createElement("i",{className:"ui-icon-edit"})),React.createElement("p",{className:"setting-label"},locales.config.EDIT)),React.createElement("div",{style:e,className:"proxy"===this.state.currentCategory?"setting-item setting-item-active":"setting-item",onClick:this.changeCurrentCategory,"data-category":"proxy"},React.createElement("div",{className:"setting-icon"},React.createElement("i",{className:"ui-icon-globe"})),React.createElement("p",{className:"setting-label"},locales.config.PROXY)),React.createElement("div",{style:f,className:"notification"===this.state.currentCategory?"setting-item setting-item-active":"setting-item",onClick:this.changeCurrentCategory,"data-category":"notification"},React.createElement("div",{className:"setting-icon"},React.createElement("i",{className:"ui-icon-notification"})),React.createElement("p",{className:"setting-label"},locales.config.NOTIFICATION))),React.createElement("div",{className:"setting-bd"},React.createElement("div",{className:"appearance"===this.state.currentCategory?"setting-content setting-content-active":"setting-content"},React.createElement(AppearanceSetting,{ref:(a)=>this.settingsComponent.set("appearance",a),show:"appearance"===this.state.currentCategory,settings:this.state.settings.appearance})),React.createElement("div",{className:"edit"===this.state.currentCategory?"setting-content setting-content-active":"setting-content"},React.createElement(EditSetting,{ref:(a)=>this.settingsComponent.set("edit",a),show:"edit"===this.state.currentCategory,settings:this.state.settings.edit})),React.createElement("div",{className:"proxy"===this.state.currentCategory?"setting-content setting-content-active":"setting-content"},React.createElement(ProxySetting,{ref:(a)=>this.settingsComponent.set("proxy",a),show:"proxy"===this.state.currentCategory,settings:this.state.settings.proxy})),React.createElement("div",{className:"notification"===this.state.currentCategory?"setting-content setting-content-active":"setting-content"},React.createElement(NotificationSetting,{ref:(a)=>this.settingsComponent.set("notification",a),show:"notification"===this.state.currentCategory,settings:this.state.settings.notification})),React.createElement("div",{className:"shortcut"===this.state.currentCategory?"setting-content setting-content-active":"setting-content"},React.createElement(ShortcutSetting,{ref:(a)=>this.settingsComponent.set("shortcut",a),show:"shortcut"===this.state.currentCategory}))))))}};
;}(require("lazyload"), require);
