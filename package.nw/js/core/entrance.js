'use strict';require('../js/unpack/hackrequire/index.js');const CORE_PATH='../core.wxvpkg',tools=require(CORE_PATH + '/84b183688a46c9e2626d3e6f83365e13.js'),locales=require(CORE_PATH + '/2ecd9245a65446da4e50831e85e3b27f.js'),isMac='darwin'===process.platform;function initGlobal(){const a=require(CORE_PATH + '/9172561b0b10d8ce715be906748879d7.js');a.initGlobal(global,nw.Window.get()),a.preventDefault(document),a.initCli(global),global.windowMap.set('LOGIN',global.Win),global.Win.on('close',()=>{const a=require(CORE_PATH + '/b543ae2da406cea63b3ad8951f17b6c0.js');setTimeout(()=>{0===a.clientWindows.size&&tools.quit()},2e3)}),global.isDevWindow=!1}function initMenu(){try{if(global.isDevWindow||isMac){const a=new nw.Menu({type:'menubar'}),b=new nw.Menu,c=new nw.Menu;c.append(new nw.MenuItem({label:locales.config.MENU_INSPECT_APP,click:()=>{chrome.developerPrivate.openDevTools({renderViewId:-1,renderProcessId:-1,extensionId:chrome.runtime.id})}})),b.append(new nw.MenuItem({label:locales.config.MENU_INSPECT,submenu:c})),b.append(new nw.MenuItem({label:locales.config.CLOSE_WINDOW,click:()=>global.Win.close(!0)})),b.append(new nw.MenuItem({label:locales.config.MENU_EXIT,click:()=>nw.App.quit()})),a.append(new nw.MenuItem({label:locales.config.MENU_TITLE_APP,submenu:b})),global.Win.menu=a}}catch(a){}}const doCheckUpdate=async()=>{const a=require(CORE_PATH + '/e5184416014aff2809a9dee32cc447c8.js'),b=require(CORE_PATH + '/8a1cb9f18551c9fced04d3b87ddfa687.js');a.loop(),b.loop(),await tools.checkUpdateApp()},init=async()=>{initGlobal(),initMenu(),global.online||(await doCheckUpdate());const a=require(CORE_PATH + '/5f3c86137d346ddffec99d08c1ac2bb0.js').default;a.start();const b=require(CORE_PATH + '/29cbb96f0d87ca0a3ee63c5dbbd8107c.js');'complete'===global.contentDocument.readyState?b.launch():global.contentWindow.addEventListener('load',b.launch)};init();