'use strict';!function(require,directRequire){const a=require('react'),b=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),c=require('./d559680a1a0c2551cbce1a9fb152cb99.js'),d=require('./4389a88e405d1d37f36c16fc0ec96540.js'),e=require('./common/locales/index.js');class f extends a.Component{constructor(a){super(a)}componentDidMount(){this._cancalLocaleListener=e.onChangeLocale(()=>this.forceUpdate())}componentWillUnmount(){this._cancalLocaleListener()}formatTime(a){const b=new Date(1e3*a);return`${b.getFullYear()}.${b.getMonth()+1}.${b.getDate()}`}batchAddCard(){const a=this.props,b=a.args,c=b.cardList||[],d=[];for(let a=0;a<c.length;a++){const b=c[a];d.push({card_id:b.card_id,card_ext:b.card_ext,is_succ:1})}this.props.batchAddCard({callbackID:a.callbackID,runtimeID:this.props.runtimeID,list:d})}cancel(){this.props.hideCardView({callbackID:this.props.callbackID,runtimeID:this.props.runtimeID,res:{errMsg:'addCard:cancel'}})}render(){const f=this.props,g=f.show?{}:b.displayNone;g.width=f.width,g.height=f.height,g.backgroundColor='#63B35A',g.transform=`scale(${f.deviceScale})`,g.marginLeft=-f.width/2,g.transformOrigin='50% 0';const h=f.cardInfo||[];let i='';const j=h.map((b,c)=>{const d=b.card_tp_info||{},f=d.brand_name,h=d.title,j=d.logo_url;if(b.errmsg)return a.createElement('div',{className:'ui-flex',key:c},a.createElement('div',{className:'coupons-card-logo'},a.createElement('img',{src:j})),a.createElement('div',{className:'ui-flex-item'},a.createElement('p',{className:'coupons-card-biz'},e.config.WRONG_CARD),a.createElement('p',{className:'coupons-card-name'},'cardId: ',b.card_id),a.createElement('p',{className:'coupons-valid'},'errmsg: ',b.errmsg)));const k=b.card_data_info,l=this.formatTime(d.begin_time),m=this.formatTime(d.end_time);return 0==k.limit_num&&(i=d.limit_wording),g.backgroundColor=d.color,a.createElement('div',{className:'ui-flex',key:c},a.createElement('div',{className:'coupons-card-logo'},a.createElement('img',{src:j})),a.createElement('div',{className:'ui-flex-item'},a.createElement('p',{className:'coupons-card-biz'},f),a.createElement('p',{className:'coupons-card-name'},h,' ',a.createElement('span',{className:'coupons-card-counter'},'x',b.amount)),a.createElement('p',{className:'coupons-valid'},l,' ','-',' ',m)))});return a.createElement('div',{className:'simulator',style:g},a.createElement(d,{backgroundColor:g.backgroundColor}),a.createElement(c,{cover:!0,height:f.navigationbarHeight,title:e.config.ADD_CARD,backgroundColor:g.backgroundColor,frontColor:'#ffffff',showLeftBtn:!0,onLeftBtnClick:this.cancel.bind(this)}),a.createElement('div',{className:'webview'},a.createElement('div',{className:'coupons'},a.createElement('div',{className:'coupons-chooser',style:{backgroundColor:g.backgroundColor}},a.createElement('div',{className:'coupons-card'},a.createElement('div',{className:'coupons-card-bd'},j),i?a.createElement('div',{className:'coupons-card-ft'},a.createElement('button',{className:'coupons-card-button disabled',style:{backgroundColor:g.backgroundColor}},i)):a.createElement('div',{className:'coupons-card-ft',onClick:this.batchAddCard.bind(this)},a.createElement('button',{className:'coupons-card-button',style:{backgroundColor:g.backgroundColor}},e.config.RECEIVED_CARD)))))))}}module.exports=f}(require('lazyload'),require);