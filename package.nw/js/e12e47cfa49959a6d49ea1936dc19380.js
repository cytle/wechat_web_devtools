'use strict';!function(require,directRequire){const a=require('react'),b=require('redux'),c=require('./8325629eac73b064fa5620f0acbbf445.js'),d=require('./ba23d8b47b1f4ea08b9fd49939b9443f.js'),e=require('./a1dd553cc059d528bb0ef56afed53968.js'),f=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),g=require('./common/locales/index.js'),h=require('./fc137838572a83604db39acff8e909e0.js'),{connect:i}=require('react-redux');class j extends a.Component{constructor(a){super(a)}componentDidMount(){this._cancalLocaleListener=g.onChangeLocale(()=>this.forceUpdate())}componentWillUnmount(){this._cancalLocaleListener()}onSelect(a){const b=this.props;if(0==a&&b.shareBtnState.show){const a={path:b.appConfig.pages[0],dynamic:!!b.shareBtnState.isDynamic,mode:b.shareBtnState.withShareTicket?'withShareTicket':'common'},c=global.windowMap.get('MAIN'),d=c.window.document.querySelector(`.htmlwebview${b.currentWebviewID}`);d&&(a.webViewUrl=d.src),e.triggerOnEvent({eventName:'onShareAppMessage',data:a,webviewID:b.currentWebviewID})}else 1==a&&b.showBackToHome&&this.props.relaunchToIndexPage();this.hide()}onCancel(){this.hide()}onMaskClick(){this.hide()}hide(){this.props.setRightBtnActionSheet({show:!1})}render(){const b=this.props;return a.createElement(c,{show:b.show,itemList:b.itemList,cancelColor:b.cancelColor,cancelText:b.cancelText,itemColor:b.itemColor,onSelect:this.onSelect.bind(this),onCancel:this.onCancel.bind(this),onMaskClick:this.onMaskClick.bind(this)})}}module.exports=i((a)=>{const b=a.simulator.rightBtnActionSheet,c=a.simulator.currentWebviewID,d=a.simulator.webviewInfos[c]||{},e=d.shareBtnState||{},f=(a.project.current||{}).libVersion||'1.7.0',h=d.home,i=b.show,j=170<=parseInt(f.replace(/\./g,''))&&h,k=e.show?[g.config.FORWARD]:[g.config.CUR_PAGE_NO_SHARE];j&&k.push(g.config.RETURN_HOME_PAGE);const l=a.htmlwebview;return{show:i,showBackToHome:j,currentWebviewID:c,shareBtnState:e,itemList:k,appConfig:a.simulator.appConfig||{},cancelText:g.config.CANCEL,cancelColor:'#000000',itemColor:'#000000',alertIndex:-1,htmlwebview:l}},(a)=>({setRightBtnActionSheet:f.bindActionCreators(d.setRightBtnActionSheet,a),relaunchToIndexPage:f.bindActionCreators(()=>(a,b)=>{a(d.reLaunchToIndexPage());const c=b();c.toolbar.rotated&&!f.canSimulatorRotate(c)&&a(h.setDeviceRotated(!1))},a)}))(j)}(require('lazyload'),require);