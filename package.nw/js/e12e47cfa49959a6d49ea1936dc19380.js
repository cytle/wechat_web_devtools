;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),ActionSheet=require('./8325629eac73b064fa5620f0acbbf445.js'),actionsConfig=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),simulatorActions=require('./ba23d8b47b1f4ea08b9fd49939b9443f.js'),appserviceMessager=require('./a1dd553cc059d528bb0ef56afed53968.js'),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),locales=require('./common/locales/index.js'),{canSimulatorRotate,rotateSimulator}=require('./a3d662b5798bbb27bf21be3e3587a588.js'),{connect}=require("react-redux"),mapStateToProps=(a)=>{const b=a.simulator.rightBtnActionSheet,c=a.simulator.currentWebviewID,d=a.simulator.webviewInfos[c]||{},e=d.shareBtnState||{},f=(a.project.current||{}).libVersion||"1.7.0",g=d.home,h=b.show,i=170<=parseInt(f.replace(/\./g,""),10)&&g,j=e.show?[locales.config.FORWARD]:[locales.config.CUR_PAGE_NO_SHARE];i&&j.push(locales.config.RETURN_HOME_PAGE);const k=a.htmlwebview;return{show:h,showBackToHome:i,currentWebviewID:c,shareBtnState:e,itemList:j,appConfig:a.simulator.appConfig||{},cancelText:locales.config.CANCEL,cancelColor:"#000000",itemColor:"#000000",alertIndex:-1,htmlwebview:k}},mapDispatchToProps=(a)=>({setRightBtnActionSheet:tools.bindActionCreators(simulatorActions.setRightBtnActionSheet,a),relaunchToIndexPage:tools.bindActionCreators(()=>(a,b)=>{a(simulatorActions.reLaunchToIndexPage());const c=b();a({type:actionsConfig.TOOLBAR_SET_DEVICE_ROTATED_BEFORE_ROUTE,data:c.toolbar.rotated}),c.toolbar.rotated&&!canSimulatorRotate(c)&&rotateSimulator(!1,a,b)},a)});let RightBtnActionSheet=class extends React.Component{constructor(a){super(a)}onSelect(a){const b=this.props;if(0===a&&b.shareBtnState.show){const a={path:b.appConfig.pages[0],dynamic:!!b.shareBtnState.isDynamic,mode:b.shareBtnState.withShareTicket?"withShareTicket":"common"},c=global.windowMap.get("MAIN"),d=c.window.document.querySelector(`.htmlwebview${b.currentWebviewID}`);d&&(a.webViewUrl=d.src),appserviceMessager.triggerOnEvent({eventName:"onShareAppMessage",data:a,webviewID:b.currentWebviewID})}else 1===a&&b.showBackToHome&&this.props.relaunchToIndexPage();this.hide()}onCancel(){this.hide()}onMaskClick(){this.hide()}hide(){this.props.setRightBtnActionSheet({show:!1})}render(){const a=this.props;return React.createElement(ActionSheet,{show:a.show,itemList:a.itemList,cancelColor:a.cancelColor,cancelText:a.cancelText,itemColor:a.itemColor,onSelect:this.onSelect.bind(this),onCancel:this.onCancel.bind(this),onMaskClick:this.onMaskClick.bind(this)})}};RightBtnActionSheet=tslib_1.__decorate([locales.mixin],RightBtnActionSheet),module.exports=connect(mapStateToProps,mapDispatchToProps)(RightBtnActionSheet);
;}(require("lazyload"), require);
