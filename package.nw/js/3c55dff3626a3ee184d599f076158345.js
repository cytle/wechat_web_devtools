'use strict';!function(require,directRequire){const a=require('react'),b=require('classnames'),{isEqual:c}=require('lodash'),d=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),e=require('./875171e7b864aa58d026d4fa0999fbd1.js'),f=()=>{};class g extends a.Component{constructor(a){super(a),this.keyControl=(a)=>{var b=Math.max;const c=a.key,d=this.props.list&&this.props.list.length||0;switch(c){case'ArrowUp':a.preventDefault(),this.setState({selected:b(this.state.selected-1,0)});break;case'ArrowDown':a.preventDefault(),this.setState({selected:Math.min(this.state.selected+1,b(d-1,0))});break;case'Enter':if(d){this.onSelectClick(this.state.selected,a);const b=document.activeElement;b&&'INPUT'===b.tagName&&b.blur()}break;case'Escape':this.setState({show:!1});}},this.state={lazyLoaded:a.show,show:a.show,selected:-1},this.nodeRefs=[]}componentWillReceiveProps(a){a.show!=this.props.show&&this.setState({show:a.show,lazyLoaded:!0}),c(a.list,this.props.list)||this.setState({selected:0})}componentDidUpdate(a,b){if(this.props.allowKeyboardControl&&a.show!==this.props.show&&(this.props.show?document.addEventListener('keydown',this.keyControl):document.removeEventListener('keydown',this.keyControl)),b.selected!==this.state.selected){const a=this.nodeRefs[this.state.selected];a&&a.scrollIntoViewIfNeeded&&a.scrollIntoViewIfNeeded()}}componentWillUnmount(){this.props.allowKeyboardControl&&document.removeEventListener('keydown',this.keyControl)}onSelectClick(a,b){b.stopPropagation(),'function'==typeof this.props.onSelectClick&&this.props.onSelectClick(a,b)}onMouseEnter(a,b){this.props.onMouseEnter&&this.props.onMouseEnter(a,b)}onMouseLeave(a,b){this.props.onMouseLeave&&this.props.onMouseLeave(a,b)}render(){if(!this.state.lazyLoaded)return null;const c=[];this.nodeRefs=Array(this.props.list&&this.props.list.length||0);let d;this.props.list&&this.props.list.map((e,f)=>{c.push(a.createElement('div',{className:b('ui-dropdown-item ui-hover-trigger',{"ui-dropdown-item-active":f===this.state.selected}),key:f,index:f,onClick:this.onSelectClick.bind(this,f),onMouseEnter:this.onMouseEnter.bind(this,f),onMouseLeave:this.onMouseLeave.bind(this,f),ref:(a)=>this.nodeRefs[f]=a},a.createElement('p',null,e),this.props.rightArrow?a.createElement('span',null,a.createElement('i',{className:'ui-icon-menu-arrow-right'})):null,this.props.hoverExt&&this.props.listExt?a.createElement('p',{className:'ui-desc'},a.createElement('span',{className:'ui-hover-item',style:{whiteSpace:'pre'}},this.props.hoverExt&&this.props.hoverExt[f]||''),this.props.listExt&&this.props.listExt[f]||''):null,this.props.subDropdowns&&this.props.subDropdowns[f]&&this.props.subDropdowns[f].class?(d=this.props.subDropdowns[f].class)&&a.createElement(d,this.props.subDropdowns[f].props):null)),this.props.divider&&0<this.props.divider.length&&0<=this.props.divider.indexOf(f)&&c.push(a.createElement('div',{className:'ui-dropdown-divider',key:`divider_${f}`}))});const g={width:this.props.width||'auto',top:this.props.top||0};return'undefined'!=typeof this.props.left&&(g.left=this.props.left),'undefined'!=typeof this.props.right&&(g.right=this.props.right),a.createElement(e,{show:this.state.show,style:g,inClassName:'ui-popover',outClassName:'ui-animate-fadeOut ui-popover'},a.createElement('div',{className:'ui-dropdown',id:this.props.id,ref:this.props.domRef||f,style:{height:this.props.height||'auto'}},this.props.header?a.createElement('div',{className:'ui-dropdown-item ui-dropdown-item-simple',style:{color:'#00C777'}},' ',this.props.header,' '):null,this.props.header?a.createElement('div',{className:'ui-dropdown-divider'}):null,c))}}module.exports=g}(require('lazyload'),require);