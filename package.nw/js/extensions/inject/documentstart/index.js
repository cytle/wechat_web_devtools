!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=233)}({20:function(e){function t(e){a&&a.readyState===o.OPEN?a.send(JSON.stringify(e)):d.push(e)}var n=window.navigator||window.__global.navigator,o=window.WebSocket||window.__global.WebSocket,r=window.prompt||window.__global.prompt,i=n.userAgent.match(/port\/(\d*)/),a=null,c=`ws://127.0.0.1:${i?parseInt(i[1]):9974}`,l=null,s=[],d=[];const u="GET_MESSAGE_TOKEN";e.exports={connect:function e(n){l=n||l;var i=r(u);(a=new o(c,`${l}#${i}#`)).onopen=function(){let e=[].concat(d);d=[],e.forEach(e=>{t(e)})},a.onclose=function(){a=null,setTimeout(()=>{e(n)},100)},a.onmessage=function(e){try{!function(e){s.forEach(t=>{try{t.call(this,e)}catch(e){console.error(e)}})}(JSON.parse(e.data))}catch(e){}}},send:t,registerCallback:e=>{s.push(e)},getWs:()=>a}},233:function(e,t,n){const o=navigator.userAgent,r=0<o.indexOf(" webdebugger "),i=0<o.indexOf(" miniprogramhtmlwebview "),a=0<o.indexOf(" miniprogram "),c=0<o.indexOf(" gameservice "),l=0<o.indexOf(" appservice "),s=0<o.indexOf(" wechatideplugin "),d=n(234),u=(n(235),n(236)),w=n(238),f=n(239),p=n(240);if(d(),f(),w(),i&&(window.__wxjs_environment="miniprogram"),r){n(241)()}(c||l)&&u(),s&&n(247),(c||a||i)&&p()},234:function(e){e.exports=(()=>{window.addEventListener("message",e=>{let t=e.data;t&&"object"==typeof t&&function(e){if(e&&("geolocation"===e.module||"locationPicker"===e.module)){let t=e;"geolocation"==e.module&&(t={module:"locationPicker",latlng:{lat:e.lat,lng:e.lng},poiaddress:`${e.province}${e.city}`,poiname:e.addr,cityname:e.city}),window.__global.alert(`map handle:${JSON.stringify(t)}`)}}(t)})})},235:function(){if(!location.protocol.startsWith("chrome-extension")){const i=window.alert,a=window.prompt;window.__global={dialogDisable:!1,parent:window.parent,Worker:Worker,WebSocket:WebSocket,XMLHttpRequest:XMLHttpRequest,FileReader:FileReader,atob:window.atob.bind(window),btoa:window.btoa.bind(window),requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,Image:Image,Audio:Audio,navigator:navigator,addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),canvasProto:{},canvasWebGlContextProto:{},canvas2dContextProto:{},history:window.history},window.__global.alert=function(){if(!window.__global.dialogDisable)return i.apply(window,arguments)},window.__global.prompt=function(){if(!window.__global.dialogDisable)return a.apply(window,arguments)},window.onerror=function(e,t,n,o,r){try{return window.__global.WeixinJSBridge.__triggerOnEvent("onError",r),!0}catch(e){}};var e=document.createElement("canvas"),t=document.createElement("canvas"),n=e.getContext("2d"),o=t.getContext("webgl");const c=(e,t)=>{for(let n in Object.setPrototypeOf(e,t),t)try{e[n]=t[n]}catch(e){}};try{c(window.__global.canvasProto,Object.getPrototypeOf(e))}catch(e){}try{c(window.__global.canvasWebGlContextProto,Object.getPrototypeOf(o))}catch(e){}try{c(window.__global.canvas2dContextProto,Object.getPrototypeOf(n))}catch(e){}for(var r in window.__global.document={},window.document)try{window.__global.document[r]="function"==typeof window.document[r]?window.document[r].bind(document):window.document[r]}catch(e){}const l=console.error.bind(console),s=console.warn.bind(console);console.error=function(...e){try{if(1>=e.length)return l(...e);for(const t of e)if("object"==typeof t)return l(...e);return l(e.join(" "))}catch(t){l(...e)}},console.warn=function(...e){try{if(1>=e.length)return s(...e);for(const t of e)if("object"==typeof t)return s(...e);return s(e.join(" "))}catch(t){s(...e)}}}},236:function(e,t,n){const{windowRemain:o,windowCanNotEnumerable:r,documentRemain:i,nodeGlobal:a}=n(237);e.exports=(()=>{const e=Object.getOwnPropertyNames(window).filter(e=>0>a.indexOf(e));for(const t of e){if(o[t])continue;const e=Object.getOwnPropertyDescriptor(window,t);e&&!0!==e.configurable||delete window[t]}for(const e in document){if(i[e])continue;const t=Object.getOwnPropertyDescriptor(document,e);t&&!0!==t.configurable||(delete document[e],Object.defineProperty(document,e,{configurable:!0,value:void 0}))}var t={readyState:!0,onreadystatechange:!0,createElement:!0,getElementById:!0,addEventListener:!0,getElementsByTagName:!0};for(const e in window.__global.document){if(t[e])continue;const n=Object.getOwnPropertyDescriptor(window.__global.document,e);n&&!0!==n.configurable||(delete window.__global.document[e],Object.defineProperty(window.__global.document,e,{configurable:!0,value:void 0}))}})},237:function(e){e.exports={windowRemain:{parent:!0,__global:!0,atob:!0,onload:!0,setTimeout:!0,setInterval:!0,clearTimeout:!0,clearInterval:!0,requestAnimationFrame:!0,cancelAnimationFrame:!0,WebGLRenderingContext:!0,innerWidth:!0,innerHeight:!0,process:!0,require:!0,navigator:!0,self:!0,performance:!0,webkitURL:!0},windowCanNotEnumerable:["XMLHttpRequest","WebSocket","Audio","DOMParser","AudioContext","WebGLRenderingContext","WebAssembly"],documentRemain:{body:!0,createElement:!0,createDocumentFragment:!0,head:!0},nodeGlobal:["Object","Function","Array","Number","parseFloat","parseInt","Boolean","String","Symbol","Date","Promise","RegExp","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","JSON","Math","Intl","ArrayBuffer","Uint8Array","Int8Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Float32Array","Float64Array","Uint8ClampedArray","DataView","Map","Set","WeakMap","WeakSet","Proxy","Reflect","Infinity","NaN","undefined","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape","eval","isFinite","isNaN","WebAssembly","console","DTRACE_NET_SERVER_CONNECTION","DTRACE_NET_STREAM_END","DTRACE_HTTP_SERVER_REQUEST","DTRACE_HTTP_SERVER_RESPONSE","DTRACE_HTTP_CLIENT_REQUEST","DTRACE_HTTP_CLIENT_RESPONSE","global","process","GLOBAL","root","Buffer","clearImmediate","clearInterval","clearTimeout","setImmediate","setInterval","setTimeout"]}},238:function(e){function t(e){e.preventDefault(),e.stopPropagation()}function n(e){e.preventDefault(),e.stopPropagation()}let o=!1;const r=()=>{if(!o){var e=document.body;e&&(e.addEventListener("dragover",t,!1),e.addEventListener("drop",n,!1)),o=!0}};e.exports=(()=>{"complete"==document.readyState||"interactive"==document.readyState?r():document.onreadystatechange=function(){("interactive"==document.readyState||"complete"==document.readyState)&&r()}})},239:function(e){e.exports=(()=>{document.addEventListener("mousewheel",e=>{e.ctrlKey&&e.preventDefault()})})},240:function(e){e.exports=(()=>{window.addEventListener("contextmenu",e=>{e.preventDefault()},!0)})},241:function(e,t,n){function o(){(function(){const e=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];for(var t=[window.__proto__,document.__proto__],n=0;n<e.length;++n)for(var o=0;o<t.length;++o)e[n]in t[o]||Object.defineProperty(t[o],e[n],{value:null,writable:!0,configurable:!0,enumerable:!0})})(),window.WeixinJSBridge=r;let e=document.createEvent("UIEvent");e.initEvent("WeixinJSBridgeReady",!1,!1),document.dispatchEvent(e)}const r=n(242);e.exports=function(){"complete"==document.readyState?o():window.addEventListener("load",function(){o()})}},242:function(e,t,n){const o=n(243),r=n(246);var i={call:function(){console.error("WeixinJSBridge.call 不被支持，请参考 http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html 进行正确调用")},log:function(e){console.log(e)}};i.invoke=o,i.on=r,e.exports=i},243:function(e,t,n){const o=n(65),r=n(244);let i={},a=1;o.registerCallback(e=>{let{command:t,data:n}=e;if("WEBDEBUGGER_INVOKE_CALLBACK"===t){let e=n.callbackID,t=i[e];if(t&&"function"==typeof t.cb){let e=t.api,o=n.res,i=n.ext;if(console.group(`${new Date} wx.${r.getSdkDisplayName(e)} end`),console.info(r.getSdkArgs(e,o)),console.groupEnd(),"preVerifyJSAPI"===e&&/^config:ok/.test(o.errMsg)){let e=i.args.verifyJsApiList||[],t=i.sdkResExt,n=[],o=[];e.forEach(e=>{(t.defaultPurview[e]||t.purviewFormGetA8key[e]||t.purviewFromPreVerify[e])&&(0===o.length?n.push(o):6===o.length&&(o=[],n.push(o)),o.push(r.getSdkDisplayName(e)))}),console.group(`${new Date} 当前页面通过 wx.config 获取到的 JSSDK 权限如下`),console.table(n),console.groupEnd()}t.cb(o)}delete i[e]}else"WEBDEBUGGER_GET_TITLE"==t&&self===top&&o.send({command:"WEBDEBUGGER_GET_TITLE_RES",data:{title:document.title}})}),e.exports=function(e,t,n){if(!/^__sys/.test(e)){console.group(`${new Date} wx.${r.getSdkDisplayName(e)} begin`),console.info(r.getSdkArgs(e,t)),console.groupEnd();let c=a++;i[c]={api:e,cb:n},o.send({command:"WEBDEBUGGER_INVOKE",data:{api:e,args:t,callbackID:c}})}}},244:function(e,t,n){function o(e){return r.sdkDisplayName[e]||e}var r=n(245);e.exports={getSdkArgs:function(e,t={}){let n=JSON.parse(JSON.stringify(t));if(delete n.verifyAppId,"preVerifyJSAPI"===e)n.jsApiList=n.verifyJsApiList||[],n.jsApiList.forEach((e,t)=>{n.jsApiList[t]=o(e)}),delete n.verifyJsApiList,n.verifyNonceStr&&(n.nonceStr=n.verifyNonceStr),delete n.verifyNonceStr,n.verifySignature&&(n.signature=n.verifySignature),delete n.verifySignature,n.verifyTimestamp&&(n.timestamp=n.verifyTimestamp),delete n.verifyTimestamp,delete n.verifySignType;else for(let e in t)r.doNotDisplayArgsConfig[e]&&delete n[e];return n},getSdkDisplayName:o}},245:function(e){e.exports={sdkDisplayName:{shareTimeline:"onMenuShareTimeline",sendAppMessage:"onMenuShareAppMessage",shareQQ:"onMenuShareQQ",shareWeiboApp:"onMenuShareWeibo",shareQZone:"onMenuShareQZone","menu:share:timeline":"onMenuShareTimeline","menu:share:appmessage":"onMenuShareAppMessage","menu:share:qq":"onMenuShareQQ","menu:share:weiboApp":"onMenuShareWeibo","menu:share:QZone":"onMenuShareQZone",preVerifyJSAPI:"config",imagePreview:"previewImage",geoLocation:"getLocation",openProductViewWithPid:"openProductSpecificView",batchAddCard:"addCard",batchViewCard:"openCard",getBrandWCPayRequest:"chooseWXPay",showPickerView:"showPickerView",showDatePickerView:"showDatePickerView"},doNotDisplayArgsConfig:{appId:!0,verifyAppId:!0,verifyNonceStr:!0,verifySignType:!0,verifySignature:!0,verifyTimestamp:!0,origin:!0,webviewId:!0,__isFromOn__:!0,__domain__:!0,__url__:!0}}},246:function(e,t,n){var o={};n(65).registerCallback(e=>{let{command:t,data:n}=e;if("WEBDEBUGGER_ON_EVENT"===t){let e=o[n.eventName];"function"==typeof e&&e(n.data)}}),e.exports=function(e,t){o[e]=t}},247:function(e,t,n){const o=window.navigator.userAgent.match(/pluginid\/(\S*)/),r=o?o[1]:"",i=n(248),a=n(249);r&&(Object.defineProperty(window,"wechatide",{value:new i(r),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"pluginStorage",{value:new a,writable:!1,enumerable:!1,configurable:!1}),window.dispatchEvent(new CustomEvent("wechatideReady",{detail:window.wechatide})),window.dispatchEvent(new CustomEvent("pluginStorageReady",{detail:window.pluginStorage})))},248:function(e,t,n){const o=n(49),r=function(){let e=1;return function(){return e++}}();e.exports=class{constructor(e){Object.defineProperty(this,"__callbackMap",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__onEvent",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__messager",{value:new o(`PLUGIN_${e}`),writable:!1,enumerable:!1,configurable:!1}),this.__messager.registerCallback(e=>{let{command:t,data:n}=e;if("INVOKE_CALLBACK"===t){let{callbackID:e,res:t}=n,o=this.__callbackMap[e];o&&("function"==typeof o.callback&&o.callback(t),"function"==typeof o.resolve&&o.resolve(t)),delete this.__callbackMap[e]}else if("ON_EVENT"===t){let{eventName:e,res:t}=n,o=this.__onEvent[e];"function"==typeof o&&o(t)}})}get invoke(){return(e,t,n)=>new Promise(o=>{this.__messager.send({command:e,data:t,callbackID:function(e,t){const n=r();return this.__callbackMap[n]={callback:e,resolve:t},n}.call(this,n,o)})})}get on(){return(e,t)=>{this.__onEvent[e]=t}}}},249:function(e){e.exports=class{constructor(){}async getItem(e){return(await window.wechatide.invoke("PLUGIN_STORAGE_GET_ITEM",{key:e})).value}async setItem(e,t){await window.wechatide.invoke("PLUGIN_STORAGE_SET_ITEM",{key:e,value:t})}async removeItem(e){await window.wechatide.invoke("PLUGIN_STORAGE_REMOVE_ITEM",{key:e})}}},49:function(e){var t=window.navigator||window.__global.navigator,n=window.WebSocket||window.__global.WebSocket,o=t.userAgent.match(/port\/(\d*)/),r=`ws://127.0.0.1:${o?parseInt(o[1]):9974}`;e.exports=class{constructor(e){this._protocol=e,this._ws=null,this._msgQueue=[],this._callback=[],"complete"==document.readyState?setTimeout(()=>{this.connect()}):window.addEventListener("load",()=>{this.connect()})}connect(){const e=prompt("GET_MESSAGE_TOKEN");this._ws=new n(r,this._protocol+`#${e}#`),this._ws.onopen=(()=>{let e=[].concat(this._msgQueue);this._msgQueue=[],e.forEach(e=>{this.send(e)})}),this._ws.onclose=(()=>{this._ws=null,setTimeout(()=>{this.connect()})}),this._ws.onmessage=(e=>{try{let t=JSON.parse(e.data);this._callback.forEach(e=>{try{e.call(this,t)}catch(e){}})}catch(e){}})}send(e){this._ws&&this._ws.readyState===n.OPEN?this._ws.send(JSON.stringify(e)):this._msgQueue.push(e)}registerCallback(e){"function"==typeof e&&this._callback.push(e)}}},65:function(e,t,n){function o(){let e=`WEBDEBUGGER_${a}`;r.connect(e)}const r=n(20),i=navigator.userAgent.match(/webview\/([\w]*)/)[1],a=`${Date.now()}${parseInt(1e4*Math.random())}`;"readyState"==document.readyState?o():window.addEventListener("load",()=>{o()}),e.exports={send:function(e){e.webviewID=i,e.runtimeID=a,r.send(e)},registerCallback:r.registerCallback}}});