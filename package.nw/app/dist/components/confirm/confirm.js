"use strict";function init(){var t=require("../../lib/react.js"),e=(require("../../lib/react-dom.js"),require("../../stores/windowStores.js")),n=require("../../cssStr/cssStr.js"),i=t.createClass({displayName:"Confirm",getInitialState:function(){return{lazyLoaded:!1,title:"",content:"",subcontent:"",iconType:"info",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000",hidden:!0}},componentDidMount:function(){e.on("WINDOW_SHOW_CONFIRM",this._onShowConfirm)},componentWillUnmount:function(){e.removeListener("WINDOW_SHOW_CONFIRM",this._onShowConfirm)},_onShowConfirm:function(t){if(t){this._callback=t.callback;var e="string"==typeof t.title?t.title:"提示",n="string"==typeof t.content?t.content:JSON.stringify(t.content),i="string"==typeof t.subcontent?t.subcontent:JSON.stringify(t.subcontent);this.setState({title:e,content:n,subcontent:i,showCancel:"alert"!==t.type,hidden:!1,lazyLoaded:!0})}},callback:function(t){"function"==typeof this._callback&&this._callback(t)},handleCancelClick:function(){this.hide(),this.callback(!1)},handleConfrimClick:function(){this.hide(),this.callback(!0)},hide:function(){this.setState({hidden:!0})},render:function(){if(!this.state.lazyLoaded)return null;var e=this.state.hidden?n.displayNone:{},i=this.state.showCancel?{}:n.displayNone;return t.createElement("div",{className:"common-dialog",style:e},t.createElement("div",{className:"common-dialog-hd"},t.createElement("h3",{className:"common-dialog-hd-title"},this.state.title)),t.createElement("div",{className:"common-dialog-bd"},t.createElement("p",null,t.createElement("i",{className:"common-dialog-icon-"+this.state.iconType})," ",this.state.content)),this.state.subcontent?t.createElement("div",{className:"common-dialog-hint"},t.createElement("p",null,this.state.subcontent)):null,t.createElement("div",{className:"common-dialog-ft"},t.createElement("a",{style:i,href:"javascript:;",onClick:this.handleCancelClick,className:"common-dialog-button-default"},this.state.cancelText),t.createElement("a",{href:"javascript:;",className:"common-dialog-button-primary",onClick:this.handleConfrimClick},this.state.confirmText)))}});_exports=i}var _exports;init(),module.exports=_exports;